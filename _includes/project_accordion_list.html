{% if include.list_data[0].title %}
<div class="container py-2">
    <div class="accordion" id="accordion-project-{{include.list_idx}}">
        {% assign sorted_data = include.list_data | sort: "end_date" | reverse %}
        {% for data_entry in sorted_data %}
        <div class="accordion-item">
            <h2 class="accordion-header">
                <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse"
                    data-bs-target="#{{data_entry.data_id}}" aria-expanded="false"
                    aria-controls="{{data_entry.data_id}}">
                    {{data_entry.title}}
                </button>
            </h2>
            <div class="accordion-collapse collapse" id="{{data_entry.data_id}}"
                data-bs-parent="#accordion-project-{{include.list_idx}}">
                <div class="accordion-body">
                    {% if data_entry.start_date or data_entry.end_date %}
                    <h5>Period</h5>
                    <p>{{(data_entry.start_date | date: "%-d %B %Y") | default: ""}} ~ {{(data_entry.end_date | date:
                        "%-d %B %Y") | default: "Present"}}</p>
                    {% endif %}
                    {% if data_entry.description_points[0] %}
                    <h5>Description</h5>
                    <div class="row">
                        <ul style="list-style-position: inside;">
                            {% for point in data_entry.description_points %}
                            <li class="ps-4" style="text-indent: -1.5em;">{{point}}</li>
                            {% endfor %}
                        </ul>
                    </div>
                    {% endif %}

                    {% if data_entry.images[0] %}
                    <h5>Gallery</h5>
                    <div class="row row row-cols-1 row-cols-sm-2 row-cols-lg-3 row-cols-xxl-4 g-3">
                        {% for img_data in data_entry.images %}
                        <figure class="col">
                            <!-- Button trigger modal -->
                            <button type="button" class="btn" data-bs-toggle="modal"
                                data-bs-target="#{{data_entry.data_id}}-{{forloop.index}}-Modal">
                                <img src="{{img_data.source}}" alt="{{img_data.alt | default: img_data.caption}}"
                                    class="img-fluid img-thumbnail">
                                <figcaption style="font-size: 0.8em;">{{img_data.caption}}</figcaption>
                            </button>

                            <!-- Modal -->
                            <div class="modal fade image-modal" id="{{data_entry.data_id}}-{{forloop.index}}-Modal"
                                tabindex="-1" aria-labelledby="{{data_entry.data_id}}-{{forloop.index}}-ModalLabel"
                                aria-hidden="true">
                                <div class="modal-dialog modal-dialog-centered mx-auto" data-bs-dismiss="modal"
                                    aria-label="Close">
                                    <div class="modal-content">
                                        <div class="modal-body text-center">
                                            <button type="button" class="btn-close" data-bs-dismiss="modal"
                                                aria-label="Close"></button>
                                            <a href="{{img_data.source}}" target="_blank">
                                                <img src="{{img_data.source}}"
                                                    alt="{{img_data.alt | default: img_data.caption}}" class="img-fluid"
                                                    style="max-width: 85vw; max-height: 85vh;">
                                            </a>
                                            <br>
                                            <div
                                                style="background-color: white; border-radius: 10px; display: inline-block;">
                                                <span class="p-1 px-2 text-center"
                                                    style="font-size: 0.6em; display: block;">Click on
                                                    image to view in full resolution</span>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </figure>
                        {% endfor %}
                    </div>
                    {% endif %}

                    {% if data_entry.links[0] %}
                    <h5>Links</h5>
                    <div class="row">
                        <ul>
                            {% for link_data in data_entry.links %}
                            <li style="list-style-position: inside;">
                                <a href="{{link_data.href}}" target="_blank">{{link_data.link_name}}</a>
                            </li>
                            {% endfor %}
                        </ul>
                    </div>
                    {% endif %}
                </div>
            </div>
        </div>
        {% endfor %}
    </div>
</div>
{% endif %}